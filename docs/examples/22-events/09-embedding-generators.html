
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>09-embedding-generators.py - From words to musical phrases. — Pyo 1.0.4 documentation</title>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/nature.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/sphinx-codeautolink.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/autoclasstoc.css" rel="stylesheet" type="text/css"/>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
<script src="../../_static/jquery.js"></script>
<script src="../../_static/underscore.js"></script>
<script src="../../_static/doctools.js"></script>
<link href="../../_static/E-PyoIcon.ico" rel="shortcut icon"/>
<link href="../../about.html" rel="author" title="About these documents"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="10-arithmetic-ops.html" rel="next" title="10-arithmetic-ops.py - Using arithmetic with event generators."/>
<link href="08-function-calls.html" rel="prev" title="08-function-calls.py - Using custom algorithms with python function calls."/>
</head><body>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../../genindex.html" title="General Index">index</a></li>
<li class="right">
<a accesskey="N" href="10-arithmetic-ops.html" title="10-arithmetic-ops.py - Using arithmetic with event generators.">next</a> |</li>
<li class="right">
<a accesskey="P" href="08-function-calls.html" title="08-function-calls.py - Using custom algorithms with python function calls.">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="../../index.html">Pyo 1.0.4 documentation</a> »</li>
<li class="nav-item nav-item-1"><a accesskey="U" href="index.html">22-events</a> »</li>
<li class="nav-item nav-item-this"><a href="">09-embedding-generators.py - From words to musical phrases.</a></li>
</ul>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<section id="embedding-generators-py-from-words-to-musical-phrases">
<h1>09-embedding-generators.py - From words to musical phrases.<a class="headerlink" href="#embedding-generators-py-from-words-to-musical-phrases" title="Permalink to this headline">¶</a></h1>
<p>If we consider that an EventGenerator is producing a word, then a sequence of
EventGenerator can be used to build a sentence or a phrase. When a generators
encounters another generator as its value, the inner generator is embedded
into the output stream. That is, the inner generator takes over until it runs
out of values to return. Then, the control returns to the outer generator.
There is no limit to the number of levels of embedding.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <a class="sphinx-codeautolink-a" href="../../api/alphabetical.html#module-pyo" title="pyo"><span class="nn">pyo</span></a> <span class="kn">import</span> <span class="o">*</span>

<span class="n">s</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../../api/classes/server.html#pyo.Server" title="pyo.lib.server.Server"><span class="n">Server</span></a><span class="p">()</span><span class="o">.</span><span class="n">boot</span><span class="p">()</span>

<span class="c1"># Random walk over 3-note melody segments.</span>
<span class="n">e</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.Events" title="pyo.lib.events.Events"><span class="n">Events</span></a><span class="p">(</span>
    <span class="n">degree</span><span class="o">=</span><a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventDrunk" title="pyo.lib.events.EventDrunk"><span class="n">EventDrunk</span></a><span class="p">(</span>
        <span class="p">[</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">5.00</span><span class="p">,</span> <span class="mf">5.02</span><span class="p">,</span> <span class="mf">5.03</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">5.07</span><span class="p">,</span> <span class="mf">5.05</span><span class="p">,</span> <span class="mf">5.03</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">5.07</span><span class="p">,</span> <span class="mf">5.08</span><span class="p">,</span> <span class="mf">5.11</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">6.00</span><span class="p">,</span> <span class="mf">6.07</span><span class="p">,</span> <span class="mf">6.03</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">6.07</span><span class="p">,</span> <span class="mf">6.05</span><span class="p">,</span> <span class="mf">6.07</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">6.07</span><span class="p">,</span> <span class="mf">6.08</span><span class="p">,</span> <span class="mf">6.11</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">7.00</span><span class="p">,</span> <span class="mf">7.03</span><span class="p">,</span> <span class="mf">7.02</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">7.05</span><span class="p">,</span> <span class="mf">7.08</span><span class="p">,</span> <span class="mf">7.07</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">7.08</span><span class="p">,</span> <span class="mf">7.11</span><span class="p">,</span> <span class="mf">8.00</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">8.00</span><span class="p">,</span> <span class="mf">7.07</span><span class="p">,</span> <span class="mf">7.03</span><span class="p">],</span> <span class="mi">1</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="n">maxStep</span><span class="o">=</span><a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">4</span><span class="p">),</span>
        <span class="n">occurrences</span><span class="o">=</span><span class="n">inf</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">beat</span><span class="o">=</span><span class="mi">1</span> <span class="o">/</span> <span class="mf">3.0</span><span class="p">,</span>
    <span class="n">db</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">],</span>
    <span class="n">attack</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="n">decay</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">sustain</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">release</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>

<span class="c1"># Chord progression: I - II - I - V.</span>
<span class="n">e2</span> <span class="o">=</span> <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.Events" title="pyo.lib.events.Events"><span class="n">Events</span></a><span class="p">(</span>
    <span class="n">degree</span><span class="o">=</span><a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">(</span>
        <span class="p">[</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">4.00</span><span class="p">,</span> <span class="mf">4.03</span><span class="p">,</span> <span class="mf">4.07</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">4.02</span><span class="p">,</span> <span class="mf">4.05</span><span class="p">,</span> <span class="mf">4.08</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">4.00</span><span class="p">,</span> <span class="mf">4.03</span><span class="p">,</span> <span class="mf">4.07</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span>
            <a class="sphinx-codeautolink-a" href="../../api/classes/events.html#pyo.EventSeq" title="pyo.lib.events.EventSeq"><span class="n">EventSeq</span></a><span class="p">([</span><span class="mf">3.11</span><span class="p">,</span> <span class="mf">4.02</span><span class="p">,</span> <span class="mf">4.07</span><span class="p">],</span> <span class="mi">2</span><span class="p">),</span>
        <span class="p">],</span>
        <span class="n">occurrences</span><span class="o">=</span><span class="n">inf</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">beat</span><span class="o">=</span><span class="mi">1</span> <span class="o">/</span> <span class="mf">3.0</span><span class="p">,</span>
    <span class="n">db</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">],</span>
    <span class="n">attack</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
    <span class="n">decay</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
    <span class="n">sustain</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
    <span class="n">release</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>

<span class="n">s</span><span class="o">.</span><span class="n">gui</span><span class="p">(</span><span class="nb">locals</span><span class="p">())</span>
</pre></div>
</div>
</section>
<div class="clearer"></div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h4>Previous topic</h4>
<p class="topless"><a href="08-function-calls.html" title="previous chapter">08-function-calls.py - Using custom algorithms with python function calls.</a></p>
<h4>Next topic</h4>
<p class="topless"><a href="10-arithmetic-ops.html" title="next chapter">10-arithmetic-ops.py - Using arithmetic with event generators.</a></p>
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="../../search.html" class="search" method="get">
<input aria-labelledby="searchlabel" autocapitalize="off" autocomplete="off" autocorrect="off" name="q" spellcheck="false" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script>$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div>
<div aria-label="related navigation" class="related" role="navigation">
<h3>Navigation</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../../genindex.html" title="General Index">index</a></li>
<li class="right">
<a href="10-arithmetic-ops.html" title="10-arithmetic-ops.py - Using arithmetic with event generators.">next</a> |</li>
<li class="right">
<a href="08-function-calls.html" title="08-function-calls.py - Using custom algorithms with python function calls.">previous</a> |</li>
<li class="nav-item nav-item-0"><a href="../../index.html">Pyo 1.0.4 documentation</a> »</li>
<li class="nav-item nav-item-1"><a href="index.html">22-events</a> »</li>
<li class="nav-item nav-item-this"><a href="">09-embedding-generators.py - From words to musical phrases.</a></li>
</ul>
</div>
<div class="footer" role="contentinfo">
        © Copyright 2021, Olivier Bélanger.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
</body>
</html>